import{_ as a,c as s,o as i,ag as l}from"./chunks/framework.DWdSXOaE.js";const u=JSON.parse('{"title":"linux服务器迁移","description":"","frontmatter":{},"headers":[],"relativePath":"Linux系统/linux-server-move-place.md","filePath":"Linux系统/linux-server-move-place.md","lastUpdated":1717397989000}'),t={name:"Linux系统/linux-server-move-place.md"};function n(o,e,r,h,p,d){return i(),s("div",null,[...e[0]||(e[0]=[l('<h1 id="linux服务器迁移" tabindex="-1">linux服务器迁移 <a class="header-anchor" href="#linux服务器迁移" aria-label="Permalink to &quot;linux服务器迁移&quot;">​</a></h1><p>前几天买了腾讯云合作伙伴推荐的便宜服务器，原来的服务器快到期了，于是将服务迁移到新服务器上。说下我是如何做的。</p><h2 id="_1-列出需要迁移的资源" tabindex="-1">1.列出需要迁移的资源 <a class="header-anchor" href="#_1-列出需要迁移的资源" aria-label="Permalink to &quot;1.列出需要迁移的资源&quot;">​</a></h2><p>在原来的服务器上有</p><ol><li>nginx静态博客</li><li>上网（proxy）服务</li><li>frp内网穿透服务</li></ol><h2 id="_2-判断需要复制哪些文件" tabindex="-1">2.判断需要复制哪些文件 <a class="header-anchor" href="#_2-判断需要复制哪些文件" aria-label="Permalink to &quot;2.判断需要复制哪些文件&quot;">​</a></h2><p>按照顺序依次分析</p><ol><li>nginx博客是github action自动部署上去的这个不用管，到时候地址直接写到这里即可。</li><li>上网服务由于不太了解有多少文件，所以使用安装脚本直接在新服务器部署。</li><li>我的FRP是我手动安装配置设置systemd的所以这个需要迁移</li></ol><h2 id="_3-使用ssh-keygen生成并使用scp命令复制文件" tabindex="-1">3.使用<code>ssh-keygen</code>生成并使用<code>scp</code>命令复制文件 <a class="header-anchor" href="#_3-使用ssh-keygen生成并使用scp命令复制文件" aria-label="Permalink to &quot;3.使用`ssh-keygen`生成并使用`scp`命令复制文件&quot;">​</a></h2><p>ssh-keygen是用来生成ssh密钥对的命令，输入指令之后一路enter 会在当前用户目录下的<code>.ssh/</code>（隐藏）目录下生成 id_rsa(私钥)id_rsa.pub(公钥)<br> 生成完毕之后可以cat id_rsa.pub复制下来，追加到原服务器上的 <code>~/.ssh/authorized_keys</code></p><p>在原服务器上重启sshd服务</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">systemd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshd</span></span></code></pre></div><h2 id="_4-使用scp命令复制文件到本服务器上" tabindex="-1">4.使用scp命令复制文件到本服务器上 <a class="header-anchor" href="#_4-使用scp命令复制文件到本服务器上" aria-label="Permalink to &quot;4.使用scp命令复制文件到本服务器上&quot;">​</a></h2><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@xxx.xxx.xx:/需要复制的目录</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 本机目录</span></span></code></pre></div><p>我复制了两个目录</p><ol><li>frp的安装文件和配置文件</li><li>systemd目录下的frp.service (可以通过<code>systemctl status frp</code>查看问价路径)</li></ol><h2 id="_5-总结" tabindex="-1">5.总结 <a class="header-anchor" href="#_5-总结" aria-label="Permalink to &quot;5.总结&quot;">​</a></h2><ol><li>linux迁移基本就是文件复制</li><li>复制太麻烦要采用简化措施，比如重装，或者只转移重要文件</li><li>还有一种就是暴力点的就是开一台新服务器（干净的）直接将重点目录全盘复制过来</li></ol>',18)])])}const k=a(t,[["render",n]]);export{u as __pageData,k as default};
