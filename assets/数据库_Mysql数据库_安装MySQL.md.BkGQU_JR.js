import{_ as a,c as i,o as n,ag as l}from"./chunks/framework.DWdSXOaE.js";const c=JSON.parse('{"title":"安装MySQL","description":"","frontmatter":{},"headers":[],"relativePath":"数据库/Mysql数据库/安装MySQL.md","filePath":"数据库/Mysql数据库/安装MySQL.md","lastUpdated":1717397989000}'),e={name:"数据库/Mysql数据库/安装MySQL.md"};function t(p,s,h,r,k,d){return n(),i("div",null,[...s[0]||(s[0]=[l(`<h1 id="安装mysql" tabindex="-1">安装MySQL <a class="header-anchor" href="#安装mysql" aria-label="Permalink to &quot;安装MySQL&quot;">​</a></h1><h2 id="_1-下载mysql" tabindex="-1">1.下载mysql <a class="header-anchor" href="#_1-下载mysql" aria-label="Permalink to &quot;1.下载mysql&quot;">​</a></h2><p>去官网下载最新版 zip文件</p><p><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noreferrer">https://dev.mysql.com/downloads/mysql/</a></p><p>下载之后解压到一个目录 比如 <code>E:\\mysql-5.7.31-winx64</code></p><h2 id="_2-新建并修改配置文件" tabindex="-1">2.新建并修改配置文件 <a class="header-anchor" href="#_2-新建并修改配置文件" aria-label="Permalink to &quot;2.新建并修改配置文件&quot;">​</a></h2><p>解压后的目录并没有的my.ini文件，没关系可以自行创建在安装根目录下添加的my.ini（新建文本文件，将文件类型改为的.ini），写入基本配置：</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置3306端口</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=3306</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置mysql的安装目录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">basedir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=E:\\mysql-5.7.31-winx64</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置mysql数据库的数据的存放目录</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">datadir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=E:\\mysql-5.7.31-winx64\\Data</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 允许最大连接数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">max_connections</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=200</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 允许连接失败的次数。</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#max_connect_errors=10</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 服务端使用的字符集默认为utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">character-set-server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建新表时将使用的默认存储引擎</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">default-storage-engine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=INNODB</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 默认使用“mysql_native_password”插件认证</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#mysql_native_password</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">default_authentication_plugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=mysql_native_password</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[mysql]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置mysql客户端默认字符集</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">default-character-set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=utf8mb4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[client]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置mysql客户端连接服务端时默认使用的端口</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=3306</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">default-character-set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=utf8mb4</span></span></code></pre></div><h2 id="_3-初始化数据目录" tabindex="-1">3.初始化数据目录 <a class="header-anchor" href="#_3-初始化数据目录" aria-label="Permalink to &quot;3.初始化数据目录&quot;">​</a></h2><p>下面两条命令任选其一用于初始化mysql的基础数据目录</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysqld </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">initialize </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#使用随机密码</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mysqld </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialize-insecure</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#不设置密码（不推荐）</span></span></code></pre></div><p>来自 <a href="https://dev.mysql.com/doc/mysql-installation-excerpt/5.7/en/data-directory-initialization.html#data-directory-initialization-procedure" target="_blank" rel="noreferrer">https://dev.mysql.com/doc/mysql-installation-excerpt/5.7/en/data-directory-initialization.html#data-directory-initialization-procedure</a></p><p>输出示例</p><p>2021-04-01T10:49:17.976269Z 0 [System] [MY-013169] [Server] E:\\mysql-8.0.21-winx64\\bin\\mysqld.exe (mysqld 8.0.21) initializing of server in progress as process 13836 2021-04-01T10:49:18.149005Z 1 [System] [MY-013576] [InnoDB] InnoDB initialization has started. 2021-04-01T10:49:34.293553Z 1 [System] [MY-013577] [InnoDB] InnoDB initialization has ended. 2021-04-01T10:49:56.962209Z 6 [Note] [MY-010454] [Server] A temporary password is generated for root@localhost: aSj0BmD;68#s</p><h2 id="_4-安装服务并尝试启动" tabindex="-1">4.安装服务并尝试启动 <a class="header-anchor" href="#_4-安装服务并尝试启动" aria-label="Permalink to &quot;4.安装服务并尝试启动&quot;">​</a></h2><p>可以参考<a href="./MYSQL的服务安装和启停脚本.html">MySQL服务启停</a></p><h2 id="_5-使用初始密码登录mysql" tabindex="-1">5.使用初始密码登录mysql <a class="header-anchor" href="#_5-使用初始密码登录mysql" aria-label="Permalink to &quot;5.使用初始密码登录mysql&quot;">​</a></h2><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.\\bin\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">mysql.exe</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uroot </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span></span></code></pre></div><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>PS D:\\mysql57\\mysql-5.7.43-winx64&gt; .\\bin\\mysql.exe -uroot -p</span></span>
<span class="line"><span>Enter password: ************</span></span>
<span class="line"><span>Welcome to the MySQL monitor.  Commands end with ; or \\g.</span></span>
<span class="line"><span>Your MySQL connection id is 2</span></span>
<span class="line"><span>Server version: 5.7.43</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Copyright (c) 2000, 2023, Oracle and/or its affiliates.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Oracle is a registered trademark of Oracle Corporation and/or its</span></span>
<span class="line"><span>affiliates. Other names may be trademarks of their respective</span></span>
<span class="line"><span>owners.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Type &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.</span></span>
<span class="line"><span></span></span>
<span class="line"><span>mysql&gt;</span></span></code></pre></div><h2 id="_6-修改默认的root密码" tabindex="-1">6.修改默认的root密码 <a class="header-anchor" href="#_6-修改默认的root密码" aria-label="Permalink to &quot;6.修改默认的root密码&quot;">​</a></h2><p>使用默认密码登录root用户后可以使用如下命令修改root用户的密码。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> USER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;root&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IDENTIFIED </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;新密码&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div>`,22)])])}const y=a(e,[["render",t]]);export{c as __pageData,y as default};
