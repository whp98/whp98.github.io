import{_ as a,c as i,o as t,ag as e}from"./chunks/framework.8SQNO8WI.js";const r=JSON.parse('{"title":"ubuntu修改swap文件大小","description":"","frontmatter":{},"headers":[],"relativePath":"Linux系统/ubuntu桌面/ubuntu修改swap文件大小.md","filePath":"Linux系统/ubuntu桌面/ubuntu修改swap文件大小.md","lastUpdated":1717554314000}'),n={name:"Linux系统/ubuntu桌面/ubuntu修改swap文件大小.md"};function l(p,s,h,d,k,o){return t(),i("div",null,[...s[0]||(s[0]=[e(`<h1 id="ubuntu修改swap文件大小" tabindex="-1">ubuntu修改swap文件大小 <a class="header-anchor" href="#ubuntu修改swap文件大小" aria-label="Permalink to &quot;ubuntu修改swap文件大小&quot;">​</a></h1><h2 id="查看swap" tabindex="-1">查看swap <a class="header-anchor" href="#查看swap" aria-label="Permalink to &quot;查看swap&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc/swaps</span></span></code></pre></div><p>out</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Filename				Type		Size		Used	Priority</span></span>
<span class="line"><span>/swap.img                               file		8388604		0	-2</span></span>
<span class="line"><span>/swapfile                               file		33554428	0	-3</span></span></code></pre></div><h2 id="关闭swap并删除" tabindex="-1">关闭swap并删除 <a class="header-anchor" href="#关闭swap并删除" aria-label="Permalink to &quot;关闭swap并删除&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swapoff</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /swapfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /swapfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /proc/swaps</span></span></code></pre></div><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Filename				Type		Size		Used		Priority</span></span>
<span class="line"><span>/swap.img                               file		8388604		0		-2</span></span></code></pre></div><h2 id="修改fstab" tabindex="-1">修改fstab <a class="header-anchor" href="#修改fstab" aria-label="Permalink to &quot;修改fstab&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab</span></span></code></pre></div><p>删除swap文件挂载即可</p><h2 id="创建新的swap文件" tabindex="-1">创建新的swap文件 <a class="header-anchor" href="#创建新的swap文件" aria-label="Permalink to &quot;创建新的swap文件&quot;">​</a></h2><h3 id="创建文件" tabindex="-1">创建文件 <a class="header-anchor" href="#创建文件" aria-label="Permalink to &quot;创建文件&quot;">​</a></h3><p>ext4可以使用 <code>sudo fallocate -l 8G /swapfile</code> ntfs可以使用 <code>sudo dd if=/dev/zero of=/swapfile bs=8G count=8</code></p><h3 id="配置成swap" tabindex="-1">配置成swap <a class="header-anchor" href="#配置成swap" aria-label="Permalink to &quot;配置成swap&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /swapfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mkswap</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /swapfile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab.bak</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/swapfile none swap sw 0 0&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tee</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/fstab</span></span></code></pre></div><h3 id="开启交换空间" tabindex="-1">开启交换空间 <a class="header-anchor" href="#开启交换空间" aria-label="Permalink to &quot;开启交换空间&quot;">​</a></h3><p>全部启用</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swapon</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swapon</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --show</span></span></code></pre></div><p>单文件启用</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swapon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /swapfile</span></span></code></pre></div><h3 id="验证-etc-fstab" tabindex="-1">验证/etc/fstab <a class="header-anchor" href="#验证-etc-fstab" aria-label="Permalink to &quot;验证/etc/fstab&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span></span></code></pre></div>`,23)])])}const u=a(n,[["render",l]]);export{r as __pageData,u as default};
