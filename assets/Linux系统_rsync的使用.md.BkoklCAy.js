import{_ as i,c as a,o as e,ag as t}from"./chunks/framework.DWdSXOaE.js";const c=JSON.parse('{"title":"rsync的使用","description":"","frontmatter":{},"headers":[],"relativePath":"Linux系统/rsync的使用.md","filePath":"Linux系统/rsync的使用.md","lastUpdated":1719827029000}'),l={name:"Linux系统/rsync的使用.md"};function h(n,s,r,p,o,d){return e(),a("div",null,[...s[0]||(s[0]=[t('<h1 id="rsync的使用" tabindex="-1">rsync的使用 <a class="header-anchor" href="#rsync的使用" aria-label="Permalink to &quot;rsync的使用&quot;">​</a></h1><p>rsync是linux的数据同步工具</p><p>有如下有优点:</p><ol><li>快速</li><li>可以增量同步</li><li>压缩传输</li><li>保留权限</li><li>保留软连接</li></ol><h2 id="用途1-部署应用" tabindex="-1">用途1:部署应用 <a class="header-anchor" href="#用途1-部署应用" aria-label="Permalink to &quot;用途1:部署应用&quot;">​</a></h2><h3 id="举例-部署一个前端" tabindex="-1">举例:部署一个前端 <a class="header-anchor" href="#举例-部署一个前端" aria-label="Permalink to &quot;举例:部署一个前端&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -avz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --chmod=ugo+rwX</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> web/dist/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DEPLOY_HOST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:/usr/share/nginx/html/</span></span></code></pre></div><h3 id="gitlab-ci-部署使用的镜像" tabindex="-1">gitlab ci 部署使用的镜像 <a class="header-anchor" href="#gitlab-ci-部署使用的镜像" aria-label="Permalink to &quot;gitlab ci 部署使用的镜像&quot;">​</a></h3><p>docker pull instrumentisto/rsync-ssh</p><h2 id="用途2-同步或备份数据" tabindex="-1">用途2:同步或备份数据 <a class="header-anchor" href="#用途2-同步或备份数据" aria-label="Permalink to &quot;用途2:同步或备份数据&quot;">​</a></h2><p>将远程的目录<code>/root</code>同步到本地的./备份</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -avz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ssh -i ./ssh.key&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:/root/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ./备份/</span></span></code></pre></div><h2 id="用途3-本地数据迁移" tabindex="-1">用途3:本地数据迁移 <a class="header-anchor" href="#用途3-本地数据迁移" aria-label="Permalink to &quot;用途3:本地数据迁移&quot;">​</a></h2><p>本地/home 迁移到新的硬盘/mnt/new_home</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsync</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -av</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/new_home</span></span></code></pre></div>',15)])])}const F=i(l,[["render",h]]);export{c as __pageData,F as default};
